<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Dev] replacing su calls in X2Go Server scripts with sudo (or ???)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2014-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20replacing%20su%20calls%20in%20X2Go%20Server%20scripts%20with%20sudo%0A%20%28or%20%3F%3F%3F%29&In-Reply-To=%3C52D52CE9.4000109%40informatik.uni-erlangen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006809.html">
   <LINK REL="Next"  HREF="006811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Dev] replacing su calls in X2Go Server scripts with sudo (or ???)</H1>
    <B>Moritz Struebe</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20replacing%20su%20calls%20in%20X2Go%20Server%20scripts%20with%20sudo%0A%20%28or%20%3F%3F%3F%29&In-Reply-To=%3C52D52CE9.4000109%40informatik.uni-erlangen.de%3E"
       TITLE="[X2Go-Dev] replacing su calls in X2Go Server scripts with sudo (or ???)">Moritz.Struebe at informatik.uni-erlangen.de
       </A><BR>
    <I>Tue Jan 14 13:26:17 CET 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="006809.html">[X2Go-Dev] replacing su calls in X2Go Server scripts with sudo (or ???)
</A></li>
        <LI>Next message: <A HREF="006811.html">[X2Go-Dev] Bug#329: X2Go issue (in src:python-x2go) has been marked	as closed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6828">[ date ]</a>
              <a href="thread.html#6828">[ thread ]</a>
              <a href="subject.html#6828">[ subject ]</a>
              <a href="author.html#6828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 2014-01-08 14:11, Mike Gabriel wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> as those of you who have studied X2Go Server code probably have
</I>noticed, X2Go uses the su command quite intensively. The problem about
su is that it invokes a subshell whenever it is called. Those subshells
are quite difficult to handle without providing space for exploitation.
&gt;<i>
</I>&gt;<i> As su is (in all cases) used to drop privileges from root to a normal
</I>user, my suggestion would be exchanging the su calls by sudo calls.
(sudo -u &lt;user&gt; &lt;command&gt;). The advantage of sudo: it does not invoke a
subshell.
&gt;<i>
</I>&gt;<i> Feedback? Request for comments??? Any other approach thinkable???
</I>&gt;<i>
</I>
IMO we should get rid of su altogether if possible. As far as I can see
the cleansession-stuff can run as a daemon for every user (Simple
shell-scripts that sleeps in between checks and terminates if there is
no active session). Printing is another issue. But IMO even that can be
solved by polling rather than pushing the data.

Moty

- -- 
Dipl.-Ing. Moritz 'Morty' Struebe (Wissenschaftlicher Mitarbeiter)
Lehrstuhl f&#252;r Informatik 4 (Verteilte Systeme und Betriebssysteme)
Friedrich-Alexander-Universit&#228;t Erlangen-N&#252;rnberg
Martensstr. 1
91058 Erlangen

Tel   : +49 9131 85-25419
Fax   : +49 9131 85-28732
eMail : <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">struebe at informatik.uni-erlangen.de</A>
WWW   : <A HREF="http://www4.informatik.uni-erlangen.de/~morty">http://www4.informatik.uni-erlangen.de/~morty</A>


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - <A HREF="http://www.enigmail.net/">http://www.enigmail.net/</A>

iQEcBAEBAgAGBQJS1SziAAoJEG/nl4s6YOSIm8wH/38hz548y7QAKrt8iaPMPOkO
U5R6Es8Da8shRX+QmaOnSXsNzaWHN7QOsF5X9EFSN4RpI8ff8lUchHk2BlWfSEvU
dqS7gdPOdQZaSMUdQdVjzFZiYg1mpAoyDYB4gZ7lhltCi0Bo+kN6yTX7EU2bjW1U
ivNhEjgfFrdV7SIUdfaEAaH4uTFsQmg1RBX4sU8ysQOzwkXTfRrMjJZxf/hnLobe
/uEfiam3ONb/7pqqRk2eEHuf68wVt97awq718mmroQNMJO2bTWrLCWYbAXi8geF/
/+Ji0VQqs8u7yOYCSusNTygEETbF8Fx0aDSqoMoGGwTl/xViH7nWxV4vbEEvi5I=
=Ollg
-----END PGP SIGNATURE-----


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5005 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-dev/attachments/20140114/18161830/attachment.bin">https://lists.berlios.de/pipermail/x2go-dev/attachments/20140114/18161830/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006809.html">[X2Go-Dev] replacing su calls in X2Go Server scripts with sudo (or ???)
</A></li>
	<LI>Next message: <A HREF="006811.html">[X2Go-Dev] Bug#329: X2Go issue (in src:python-x2go) has been marked	as closed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6828">[ date ]</a>
              <a href="thread.html#6828">[ thread ]</a>
              <a href="subject.html#6828">[ subject ]</a>
              <a href="author.html#6828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
