<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Dev] Bug#349: Bug#349: Make shadow sessions work with --hide	option
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2013-November/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20Bug%23349%3A%20Bug%23349%3A%20Make%20shadow%20sessions%20work%20with%20--hide%0A%09option&In-Reply-To=%3CCAJxG8spv3bF9v3f_F1U3mAZuzmjeuxmNyUrEqPDBaxhspyHEkQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006496.html">
   <LINK REL="Next"  HREF="006495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Dev] Bug#349: Bug#349: Make shadow sessions work with --hide	option</H1>
    <B>Marco Andr&#233; Dinis</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20Bug%23349%3A%20Bug%23349%3A%20Make%20shadow%20sessions%20work%20with%20--hide%0A%09option&In-Reply-To=%3CCAJxG8spv3bF9v3f_F1U3mAZuzmjeuxmNyUrEqPDBaxhspyHEkQ%40mail.gmail.com%3E"
       TITLE="[X2Go-Dev] Bug#349: Bug#349: Make shadow sessions work with --hide	option">marcoandredinis at gmail.com
       </A><BR>
    <I>Thu Nov 28 11:16:32 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="006496.html">[X2Go-Dev] Bug#349: Bug#349: Make shadow sessions work with --hide	option
</A></li>
        <LI>Next message: <A HREF="006495.html">[X2Go-Dev] Processed: Re: Bug#349: Make shadow sessions work with --hide option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6504">[ date ]</a>
              <a href="thread.html#6504">[ thread ]</a>
              <a href="subject.html#6504">[ subject ]</a>
              <a href="author.html#6504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I'm sending the patch.

However this is not the final fix. There are 2 modes: full access and
only view. Right now it starts full access.
That decision could be made using the session info. For example,
create the command SHADOWFULL

On Wed, Nov 27, 2013 at 10:46 AM, Mike Gabriel
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">mike.gabriel at das-netzwerkteam.de</A>&gt; wrote:
&gt;<i> Control: retitle -1 Make shadow sessions work with --hide option
</I>&gt;<i> Control: tag -1 moreinfo
</I>&gt;<i> Control: clone -1 -2
</I>&gt;<i> Control: reassign -2 x2godesktopsharing
</I>&gt;<i> Control: retitle -2 Add --no-icon cmdline option to x2godesktopsharing
</I>&gt;<i> Control: severity -2 wishlist
</I>&gt;<i>
</I>&gt;<i> Hi Marco,
</I>&gt;<i>
</I>&gt;<i> with this mail I split up your report into to separate bug reports. One for
</I>&gt;<i> x2goclient, one for x2godesktopsharing...
</I>&gt;<i>
</I>&gt;<i> On  Di 26 Nov 2013 17:01:41 CET, marcoandredinis wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm developing a program that will use X2Go software. I dont want
</I>&gt;&gt;<i> users to notice they are using any other program besides my own.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have two problems right now:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A) X2GoClient
</I>&gt;&gt;<i> Using SHADOW mode with &quot;--hide&quot; does not work. The interface waits for
</I>&gt;&gt;<i> selection of Display (usually &quot;:0&quot;) and, since there's no input from
</I>&gt;&gt;<i> user (there's no window) the program does not show anything.
</I>&gt;&gt;<i> There are possible ways of fixing/improving this situation:
</I>&gt;&gt;<i> -allow user to set the default display on sessions' file
</I>&gt;&gt;<i> -create one flag and run program like these: &quot;x2goclient --hide
</I>&gt;&gt;<i> --sessionid=xxx --select-first-display&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway, i modified the code of x2goclient/onmainwindow.cpp and added
</I>&gt;&gt;<i> these lines:
</I>&gt;&gt;<i> l4348:..if( shadowSession )
</I>&gt;&gt;<i> l4349:....slotShadowSess();
</I>&gt;&gt;<i> Compiled the program, and now i can run &quot;./x2goclient --hide
</I>&gt;&gt;<i> --sessionid=xxx&quot; and the window will show up.
</I>&gt;&gt;<i> This is NOT a fix, this is a nasty workaround. It wontn show the list
</I>&gt;&gt;<i> even when the &quot;hide&quot; flag is not present.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Please provide a patch for what you did.
</I>&gt;<i>
</I>&gt;<i> Please improve your patch so it is not a workaround anymore. I guess, I
</I>&gt;<i> agree with you, that the X2Go Client window should pop up, if there are more
</I>&gt;<i> than one sharable desktops to select from. If there is only one sharable
</I>&gt;<i> desktop, this should be auto-selected. Can you code that into X2Go Client,
</I>&gt;<i> please?
</I>&gt;<i>
</I>&gt;&gt;<i> B) X2GoDesktopSharing
</I>&gt;&gt;<i> Just the icon on SystemTray. If we could pass a flag like &quot;--no-icon&quot;
</I>&gt;&gt;<i> would be great
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This part will be handled in a separate bug. I will reply to this once the
</I>&gt;<i> separate bug is created in X2Go BTS.
</I>&gt;<i>
</I>&gt;&gt;<i> I could do these simple changes on my own, but i rather see this
</I>&gt;&gt;<i> changes on the official code.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Let's try to get your needs into upstream code...
</I>&gt;<i>
</I>&gt;<i> Mike
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> DAS-NETZWERKTEAM
</I>&gt;<i> mike gabriel, herweg 7, 24357 fleckeby
</I>&gt;<i> fon: +49 (1520) 1976 148
</I>&gt;<i>
</I>&gt;<i> GnuPG Key ID 0x25771B31
</I>&gt;<i> mail: <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">mike.gabriel at das-netzwerkteam.de</A>, <A HREF="http://das-netzwerkteam.de">http://das-netzwerkteam.de</A>
</I>&gt;<i>
</I>&gt;<i> freeBusy:
</I>&gt;<i> <A HREF="https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb">https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb</A>
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: autostartSession.patch
Type: text/x-patch
Size: 465 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-dev/attachments/20131128/a3d7f342/attachment.bin">https://lists.berlios.de/pipermail/x2go-dev/attachments/20131128/a3d7f342/attachment.bin</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006496.html">[X2Go-Dev] Bug#349: Bug#349: Make shadow sessions work with --hide	option
</A></li>
	<LI>Next message: <A HREF="006495.html">[X2Go-Dev] Processed: Re: Bug#349: Make shadow sessions work with --hide option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6504">[ date ]</a>
              <a href="thread.html#6504">[ thread ]</a>
              <a href="subject.html#6504">[ subject ]</a>
              <a href="author.html#6504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
