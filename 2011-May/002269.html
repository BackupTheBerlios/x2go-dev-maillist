<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-dev] x2goserver: x2gosetkeyboard
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-dev%5D%20x2goserver%3A%20x2gosetkeyboard&In-Reply-To=%3C20110530160146.20002hcri3ldqp8q%40mail.das-netzwerkteam.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002268.html">
   <LINK REL="Next"  HREF="002271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-dev] x2goserver: x2gosetkeyboard</H1>
    <B>Mike Gabriel</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-dev%5D%20x2goserver%3A%20x2gosetkeyboard&In-Reply-To=%3C20110530160146.20002hcri3ldqp8q%40mail.das-netzwerkteam.de%3E"
       TITLE="[X2go-dev] x2goserver: x2gosetkeyboard">mike.gabriel at das-netzwerkteam.de
       </A><BR>
    <I>Mon May 30 16:01:46 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002268.html">[X2go-dev] x2goagent 3.4.0.5 vs. nxagent 3.5.0-1
</A></li>
        <LI>Next message: <A HREF="002271.html">[X2go-dev] x2goserver + x2goserver-extensions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2269">[ date ]</a>
              <a href="thread.html#2269">[ thread ]</a>
              <a href="subject.html#2269">[ subject ]</a>
              <a href="author.html#2269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi devs,

for introspection I have added an x2goserver script: x2gosetkeyboard  
to X2go Git:

x2gosetkeyboard script:
<A HREF="http://code.x2go.org/gitweb?p=x2goserver.git;a=commitdiff">http://code.x2go.org/gitweb?p=x2goserver.git;a=commitdiff</A>

x2gosetkeyboard man page:
<A HREF="http://code.x2go.org/gitweb?p=x2goserver.git;a=blob_plain;f=.build_man2html/html/man8/x2gosetkeyboard.8.html">http://code.x2go.org/gitweb?p=x2goserver.git;a=blob_plain;f=.build_man2html/html/man8/x2gosetkeyboard.8.html</A>

The script takes a ,,keyboard'' file from $HOME/.x2go/C-$X2GO_SESSION  
and parses its contents for the identifiers rules, model, layout,  
variant, options. These options will then be passed on to a setxkbmap  
call. The keyboard file layout has been adopted from the free NX  
project. In the free NX project they have patched nxagent to digest  
this ,,keyboard'' file.

If the ,,keyboard'' file lacks presence, nothing happens.

I would be grateful if people could take a look and comment on  
potential problems, security issues etc.

I would like to use this script as a post-startup command for python-x2go.

If you see anything problematic about this piece of code, please let  
me know and we try to figure out what solution may be best for all.

Thanks+Greets,
Mike

-- 

DAS-NETZWERKTEAM
mike gabriel, dorfstr. 27, 24245 barmissen
fon: +49 (4302) 281418, fax: +49 (4302) 281419

GnuPG Key ID 0xB588399B
mail: <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">mike.gabriel at das-netzwerkteam.de</A>, <A HREF="http://das-netzwerkteam.de">http://das-netzwerkteam.de</A>

freeBusy:
<A HREF="https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb">https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 490 bytes
Desc: Digitale PGP-Unterschrift
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-dev/attachments/20110530/ac7dd253/attachment.pgp">https://lists.berlios.de/pipermail/x2go-dev/attachments/20110530/ac7dd253/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002268.html">[X2go-dev] x2goagent 3.4.0.5 vs. nxagent 3.5.0-1
</A></li>
	<LI>Next message: <A HREF="002271.html">[X2go-dev] x2goserver + x2goserver-extensions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2269">[ date ]</a>
              <a href="thread.html#2269">[ thread ]</a>
              <a href="subject.html#2269">[ subject ]</a>
              <a href="author.html#2269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
