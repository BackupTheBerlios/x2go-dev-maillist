<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Dev] KDE applications causing session crash with latest builds
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2012-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20KDE%20applications%20causing%20session%20crash%20with%20latest%20builds&In-Reply-To=%3C4F1B3849.8020807%40stefanbaur.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003208.html">
   <LINK REL="Next"  HREF="003216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Dev] KDE applications causing session crash with latest builds</H1>
    <B>newsgroups.mail2 at stefanbaur.de</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20KDE%20applications%20causing%20session%20crash%20with%20latest%20builds&In-Reply-To=%3C4F1B3849.8020807%40stefanbaur.de%3E"
       TITLE="[X2go-Dev] KDE applications causing session crash with latest builds">newsgroups.mail2 at stefanbaur.de
       </A><BR>
    <I>Sat Jan 21 23:12:25 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003208.html">[X2go-Dev] [X2go-Commits] nx-libs.git - master (branch)	updated: redist-server/3.5.0.7-3-ga05b560
</A></li>
        <LI>Next message: <A HREF="003216.html">[X2go-Dev] KDE applications causing session crash with latest builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3212">[ date ]</a>
              <a href="thread.html#3212">[ thread ]</a>
              <a href="subject.html#3212">[ subject ]</a>
              <a href="author.html#3212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi list,

after upgrading to the latest Debian packages, I can no longer run KDE 
applications in rootless mode - neither with NX nor with X2Go.

Steps to reproduce:
1. Run Terminal as single application (not in a full-blown desktop - 
everything works fine there)
2. Type: kdialog --yesno &quot;Test&quot;
3. Session will crash

Affected system is Debian Squeeze (upgraded from Lenny).

Sources.list used:
# Security Updates
deb <A HREF="http://security.debian.org/">http://security.debian.org/</A> squeeze/updates main contrib non-free
deb-src <A HREF="http://security.debian.org/">http://security.debian.org/</A> squeeze/updates main contrib non-free

# Backports
deb <A HREF="http://ftp.de.debian.org/debian-backports">http://ftp.de.debian.org/debian-backports</A> squeeze-backports main 
contrib non-free

# ClamAV etc.
deb <A HREF="http://ftp.debian.org/debian">http://ftp.debian.org/debian</A> squeeze-updates main contrib non-free
deb-src <A HREF="http://ftp.debian.org/debian">http://ftp.debian.org/debian</A> squeeze-updates main contrib non-free

# Acrobat Reader
deb <A HREF="http://www.debian-multimedia.org">http://www.debian-multimedia.org</A> squeeze main non-free

# Stable
deb <A HREF="http://ftp.de.debian.org/debian/">http://ftp.de.debian.org/debian/</A> squeeze main contrib non-free
deb-src <A HREF="http://ftp.de.debian.org/debian/">http://ftp.de.debian.org/debian/</A> squeeze main contrib non-free

# NX
deb <A HREF="http://ppa.launchpad.net/freenx-team/legacy/ubuntu">http://ppa.launchpad.net/freenx-team/legacy/ubuntu</A> intrepid main
deb-src <A HREF="http://ppa.launchpad.net/freenx-team/legacy/ubuntu">http://ppa.launchpad.net/freenx-team/legacy/ubuntu</A> intrepid main

# X2go Repository - leaving this out and using NX only, everything works 
fine
deb <A HREF="http://packages.x2go.org/debian">http://packages.x2go.org/debian</A> squeeze main
# X2go Repository (sources) - leaving this out and using NX only, 
everything works fine
deb-src <A HREF="http://packages.x2go.org/debian">http://packages.x2go.org/debian</A> squeeze main



These are the relevant packages when the machine is in &quot;broken&quot; state:
box02:~# COLUMNS=200 dpkg -l libnx-x11 libxcomp3 libxcompext3 
libxcompshad3 nxagent nxlibs x2go-keyring x2goagent x2goserver 
x2goserver-extensions x2goserver-printing
Desired=Unknown/Install/Remove/Purge/Hold
|<i> 
</I>Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|<i>/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
</I>||<i>/ Name                                         
</I>Version                                      Description
+++-============================================-============================================-======================================================================================================== 

ii  libnx-x11                                    
2:3.5.0.7-0+squeeze~main~229~build1          nx-X11
ii  libxcomp3                                    
2:3.5.0.7-0+squeeze~main~229~build1          NX X compression library
ii  libxcompext3                                 
2:3.5.0.7-0+squeeze~main~229~build1          NX X11 protocol compression 
extensions library
ii  libxcompshad3                                
2:3.5.0.7-0+squeeze~main~229~build1          NX shadowing library
ii  nxagent                                      
2:3.5.0.7-0+squeeze~main~229~build1          NX agent
un  nxlibs &lt;none&gt;                                       (no description 
available)
ii  x2go-keyring                                 
2011.12.07+squeeze~main~12~build1            GnuPG keys of X2go developers
ii  x2goagent                                    
2:3.5.0.7-0+squeeze~main~229~build1          X2Go agent
ii  x2goserver                                   
3.0.99.9-0~x2go1+squeeze~main~416~build1     X2go server daemon scripts
ii  x2goserver-extensions                        
3.0.99.9-0~x2go1+squeeze~main~416~build1     X2go server daemon scripts 
(extensions)
ii  x2goserver-printing                          
3.0.99.9-0~x2go1+squeeze~main~416~build1     X2go server daemon scripts 
(printing)

Working state, though NX-only, has the following packages:
box01:~# COLUMNS=200 dpkg -l libxcomp3 libxcompext3 libxcompshad3 
nxagent nxlibs
Desired=Unknown/Install/Remove/Purge/Hold
|<i> 
</I>Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|<i>/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
</I>||<i>/ Name                                         
</I>Version                                      Description
+++-============================================-============================================-======================================================================================================== 

ii  libxcomp3                                    
3.3.0-4-0ubuntu1~intrepid1                   NX X compression library
ii  libxcompext3                                 
1:3.3.0-4-0ubuntu1~intrepid1                 NX X11 protocol compression 
extensions library
ii  libxcompshad3                                
3.3.0-2-0freenxteam1                         NoMachine NX - NX 
compression library
ii  nxagent                                      
1:3.3.0-6-0ubuntu1~intrepid1                 X server for remote access
ii  nxlibs                                       
1:3.3.0-6-0ubuntu1~intrepid1                 NX support libraries

Please fix this issue - it was what drove me from NX to X2Go, as the 
FreeNX guys couldn't figure out what caused the crash, and back then, 
X2Go worked just fine for me. Now it seems you've &quot;crossported&quot; the bug 
to X2Go. :-(

I have been in contact with Mike Gabriel regarding this issue, he 
suggests debugging the issue by stepping through the patches one by one.
However, he won't get around to doing that in the next two weeks, and 
the last time I touched C code was 10 years ago and not much more than 
&quot;hello world&quot; stuff, so it's unlikely that I'll be able to find the 
reason myself. Anyone willing and able to assist?

What Mike suggested (paraphrased and translated for your convenience):

&gt;<i> Clone nx-libs.git
</I>&gt;<i>
</I>&gt;<i> git clone <A HREF="git://code.x2go.org/nx-libs.git">git://code.x2go.org/nx-libs.git</A>
</I>&gt;<i> cd nx-libs
</I>&gt;<i> debuild -uc -us
</I>&gt;<i> # 20min compiler run
</I>&gt;<i> cd ..
</I>&gt;<i> dpkg -i *.deb
</I>&gt;<i> # Start testing... 
</I>&gt;<i> That will provide the current version of nx-libs. The directory 
</I>&gt;<i> debian/patches contains a file &quot;series&quot;, which contains a list of the 
</I>&gt;<i> patches, commenting out a patch in this file will keep it from getting 
</I>&gt;<i> compiled in.
</I>&gt;<i> Only one patch should be commented out for each compiler run, the 
</I>&gt;<i> relevant patches are the ones matching &quot;1XX_*.patch&quot;.
</I>

Kind regards,
Stefan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003208.html">[X2go-Dev] [X2go-Commits] nx-libs.git - master (branch)	updated: redist-server/3.5.0.7-3-ga05b560
</A></li>
	<LI>Next message: <A HREF="003216.html">[X2go-Dev] KDE applications causing session crash with latest builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3212">[ date ]</a>
              <a href="thread.html#3212">[ thread ]</a>
              <a href="subject.html#3212">[ subject ]</a>
              <a href="author.html#3212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
