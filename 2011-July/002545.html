<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Dev] Clean sessions (Was: Allow users to edit their *own*	sessions only)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20Clean%20sessions%20%28Was%3A%20Allow%20users%20to%20edit%20their%20%2Aown%2A%0A%09sessions%20only%29&In-Reply-To=%3C4E2D58FE.3080909%40informatik.uni-erlangen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002544.html">
   <LINK REL="Next"  HREF="002546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Dev] Clean sessions (Was: Allow users to edit their *own*	sessions only)</H1>
    <B>Moritz Struebe</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20Clean%20sessions%20%28Was%3A%20Allow%20users%20to%20edit%20their%20%2Aown%2A%0A%09sessions%20only%29&In-Reply-To=%3C4E2D58FE.3080909%40informatik.uni-erlangen.de%3E"
       TITLE="[X2go-Dev] Clean sessions (Was: Allow users to edit their *own*	sessions only)">Moritz.Struebe at informatik.uni-erlangen.de
       </A><BR>
    <I>Mon Jul 25 13:52:30 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002544.html">[X2go-Dev] [PATCH] Allow users to edit their *own* sessions only
</A></li>
        <LI>Next message: <A HREF="002546.html">[X2go-Dev] Clean sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2545">[ date ]</a>
              <a href="thread.html#2545">[ thread ]</a>
              <a href="subject.html#2545">[ subject ]</a>
              <a href="author.html#2545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2011-07-25 13:37, Reinhard Tartler wrote:
&gt;<i> To be honest, I'd like to remove the cleanup daemon completely and
</I>&gt;<i> integrate the cleanup into the listsessions command. The current
</I>&gt;<i> implementation of the cleanup daemon in perl that runs as root and
</I>&gt;<i> doesn't work properly anyway makes me feel quite uneasy.
</I>
I think there are two things that nedd cleaning up:
1) Clean dead sessions from the DB  to free displays.
2) Clean up hold sessions in the home-dir to free memory.

The first is probably better done as daemon/cron-job. The daemon needs
extended rights, because it needs access to all sessions (this is
relevant due to the postgres-implementation), and needs to run on every
server. Running as x2gouser should do the trick, though.

The second is probably best placed in x2gocreatesession, as the user
should have the rights to clean up it's old sessions (root normally may
not access foreign homes via NFS).

Cheers
Morty

-- 
Dipl.-Ing. Moritz 'Morty' Struebe (Wissenschaftlicher Mitarbeiter)
Lehrstuhl f&#252;r Informatik 4 (Verteilte Systeme und Betriebssysteme)
Friedrich-Alexander-Universit&#228;t Erlangen-N&#252;rnberg
Martensstr. 1
91058 Erlangen

Tel   : +49 9131 85-25419
Fax   : +49 9131 85-28732
eMail : <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">struebe at informatik.uni-erlangen.de</A>
WWW   : <A HREF="http://www4.informatik.uni-erlangen.de/~morty">http://www4.informatik.uni-erlangen.de/~morty</A>




-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4482 bytes
Desc: S/MIME Kryptografische Unterschrift
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-dev/attachments/20110725/b80ff245/attachment.bin">https://lists.berlios.de/pipermail/x2go-dev/attachments/20110725/b80ff245/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002544.html">[X2go-Dev] [PATCH] Allow users to edit their *own* sessions only
</A></li>
	<LI>Next message: <A HREF="002546.html">[X2go-Dev] Clean sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2545">[ date ]</a>
              <a href="thread.html#2545">[ thread ]</a>
              <a href="subject.html#2545">[ subject ]</a>
              <a href="author.html#2545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
