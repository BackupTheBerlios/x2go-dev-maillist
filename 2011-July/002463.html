<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Dev] x2goserver package with setuidwrapper
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20x2goserver%20package%20with%20setuidwrapper&In-Reply-To=%3C87r55pcira.fsf%40faui43f.informatik.uni-erlangen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002462.html">
   <LINK REL="Next"  HREF="002464.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Dev] x2goserver package with setuidwrapper</H1>
    <B>Reinhard Tartler</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Dev%5D%20x2goserver%20package%20with%20setuidwrapper&In-Reply-To=%3C87r55pcira.fsf%40faui43f.informatik.uni-erlangen.de%3E"
       TITLE="[X2go-Dev] x2goserver package with setuidwrapper">siretart at tauware.de
       </A><BR>
    <I>Sun Jul 17 12:18:49 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002462.html">[X2go-Dev] x2goserver package with setuidwrapper
</A></li>
        <LI>Next message: <A HREF="002464.html">[X2go-Dev] x2goserver package with setuidwrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2463">[ date ]</a>
              <a href="thread.html#2463">[ thread ]</a>
              <a href="subject.html#2463">[ subject ]</a>
              <a href="author.html#2463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jul 16, 2011 at 18:14:08 (CEST), Mike Gabriel wrote:

&gt;<i> Hi Reinhard,
</I>&gt;<i>
</I>&gt;<i> On Sa 16 Jul 2011 12:02:12 CEST Reinhard Tartler wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Sat, Jul 16, 2011 at 11:52 AM, John Williams
</I>&gt;&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">jwilliams4200 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> On Thu, Jul 14, 2011 at 5:21 AM, Mike Gabriel
</I>&gt;&gt;&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">mike.gabriel at das-netzwerkteam.de</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have added a setuidwrapper in C to the x2goserver package. This
</I>&gt;&gt;&gt;&gt;<i> setuidwrapper will allow us to use the x2goserver package again on Debian
</I>&gt;&gt;&gt;&gt;<i> sid.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> When should this find its way into the source (tarball) packages?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I know the suidperl issue was holding up packages for Archlinux, which
</I>&gt;&gt;&gt;<i> relies on source packages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Try this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://code.launchpad.net/~x2go/+archive/ppa/+files/x2goserver_3.0.99.5-0~96~natty1.tar.gz">https://code.launchpad.net/~x2go/+archive/ppa/+files/x2goserver_3.0.99.5-0~96~natty1.tar.gz</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> or if you want the very latest snapshot (changes every commit):
</I>&gt;&gt;<i> <A HREF="http://code.x2go.org/gitweb?p=x2goserver.git;a=snapshot;h=HEAD;sf=tgz">http://code.x2go.org/gitweb?p=x2goserver.git;a=snapshot;h=HEAD;sf=tgz</A>
</I>&gt;<i>
</I>&gt;<i> have you already taken a look at the wrapper? Do you think it is ok in
</I>&gt;<i> terms of security?
</I>
Well, the changes in git are somewhat convoluted and take me a
considerable time to review properly. I don't know if and when I have
time to do a proper review in the near future, but here are my first
observations:

 - the clean rule needs work:
   - x2goserver/x2gosqlitewrapper is not deleted
   - x2goserver-extensions/.build_man2html and
     x2goserver/.build_man2html should be deleted from the branch, as
     the content is autogenerated

 - /usr/lib/x2go/x2gosqlitewrapper.pl is still installed suid, while
   /usr/bin/x2gosqlitewrapper is not. Is this really intended? If it is,
   then the whole design is somewhat mysterious to me.

 - the wrapper itself uses a static buffer to copy the link of
   /proc/self/exe there. this makes sense, but where does BUFSIZ come
   from and how big is it? Do we have enough control over the
   buildsystem so that it doesn't for some reason gets too small? TBH,
   I'd rather go with dynamic memory allocation here.

 - remark for the future, maybe the whole sqlitewrapper.pl can/should be
   implemented in C?
   
-- 
Gruesse/greetings,
Reinhard Tartler, KeyID 945348A4


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002462.html">[X2go-Dev] x2goserver package with setuidwrapper
</A></li>
	<LI>Next message: <A HREF="002464.html">[X2go-Dev] x2goserver package with setuidwrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2463">[ date ]</a>
              <a href="thread.html#2463">[ thread ]</a>
              <a href="subject.html#2463">[ subject ]</a>
              <a href="author.html#2463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
