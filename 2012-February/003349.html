<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Dev] @Mike, @Alex: Bug in x2gotrinitybindings Debian package (Stable)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2012-February/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20%40Mike%2C%0A%20%40Alex%3A%20Bug%20in%20x2gotrinitybindings%20Debian%20package%20%28Stable%29&In-Reply-To=%3C20120206184823.186861v2xf4s6j53%40mail.das-netzwerkteam.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003348.html">
   <LINK REL="Next"  HREF="003350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Dev] @Mike, @Alex: Bug in x2gotrinitybindings Debian package (Stable)</H1>
    <B>Mike Gabriel</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Dev%5D%20%40Mike%2C%0A%20%40Alex%3A%20Bug%20in%20x2gotrinitybindings%20Debian%20package%20%28Stable%29&In-Reply-To=%3C20120206184823.186861v2xf4s6j53%40mail.das-netzwerkteam.de%3E"
       TITLE="[X2Go-Dev] @Mike, @Alex: Bug in x2gotrinitybindings Debian package (Stable)">mike.gabriel at das-netzwerkteam.de
       </A><BR>
    <I>Mon Feb  6 18:48:23 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003348.html">[X2Go-Dev] @Mike,	@Alex: Bug in x2gotrinitybindings Debian package (Stable)
</A></li>
        <LI>Next message: <A HREF="003350.html">[X2Go-Dev] @Mike, @Alex: Bug in x2gotrinitybindings Debian package (Stable)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3349">[ date ]</a>
              <a href="thread.html#3349">[ thread ]</a>
              <a href="subject.html#3349">[ subject ]</a>
              <a href="author.html#3349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Stefan,

On Mo 06 Feb 2012 18:39:20 CET &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">newsgroups.mail2 at stefanbaur.de</A>&quot; wrote:

&gt;<i> Hi guys,
</I>&gt;<i>
</I>&gt;<i> I am unable to uninstall x2gotrinitybindings.
</I>&gt;<i>
</I>&gt;<i> Its prerm script contains
</I>&gt;<i>
</I>&gt;&gt;<i> case &quot;$1&quot; in
</I>&gt;&gt;<i>    configure)
</I>&gt;&gt;<i>    rm -f /opt/trinity/bin/kdesktop_lock
</I>&gt;&gt;<i>    mv /opt/trinity/bin/kdesktop_lock.trinity /opt/trinity/bin/kdesktop_lock
</I>&gt;&gt;<i>    ;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    abort-upgrade|abort-remove|abort-deconfigure)
</I>&gt;&gt;<i>    ;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    *)
</I>&gt;&gt;<i>        echo &quot;postinst called with unknown argument \`$1'&quot; &gt;&amp;2
</I>&gt;&gt;<i>        exit 1
</I>&gt;&gt;<i>    ;;
</I>&gt;&gt;<i> esac
</I>&gt;<i>
</I>&gt;<i> which always breaks with the catch-all condition as uninstalling it  
</I>&gt;<i> passes &quot;remove&quot;:
</I>&gt;<i>
</I>&gt;<i> apt-get remove x2gotrinitybindings
</I>&gt;<i> Reading package lists... Done
</I>&gt;<i> Building dependency tree
</I>&gt;<i> Reading state information... Done
</I>&gt;<i> The following packages will be REMOVED:
</I>&gt;<i>   x2gotrinitybindings
</I>&gt;<i> 0 upgraded, 0 newly installed, 1 to remove and 2 not upgraded.
</I>&gt;<i> After this operation, 156 kB disk space will be freed.
</I>&gt;<i> Do you want to continue [Y/n]?
</I>&gt;<i> (Reading database ... 121281 files and directories currently installed.)
</I>&gt;<i> Removing x2gotrinitybindings ...
</I>&gt;<i> postinst called with unknown argument `remove'
</I>&gt;<i> dpkg: error processing x2gotrinitybindings (--remove):
</I>&gt;<i>  subprocess installed pre-removal script returned error exit status 1
</I>&gt;<i> configured to not write apport reports
</I>&gt;<i>                                       Errors were encountered while  
</I>&gt;<i> processing:
</I>&gt;<i>  x2gotrinitybindings
</I>&gt;<i> E: Sub-process /usr/bin/dpkg returned an error code (1)
</I>&gt;<i>
</I>&gt;<i> Trying to reinstall it breaks as well:
</I>&gt;<i>  apt-get install --reinstall x2gotrinitybindings
</I>&gt;<i> Reading package lists... Done
</I>&gt;<i> Building dependency tree
</I>&gt;<i> Reading state information... Done
</I>&gt;<i> 0 upgraded, 0 newly installed, 1 reinstalled, 0 to remove and 2 not upgraded.
</I>&gt;<i> Need to get 0 B/17.1 kB of archives.
</I>&gt;<i> After this operation, 0 B of additional disk space will be used.
</I>&gt;<i> Selecting previously deselected package x2gotrinitybindings.
</I>&gt;<i> (Reading database ... 121281 files and directories currently installed.)
</I>&gt;<i> Preparing to replace x2gotrinitybindings  
</I>&gt;<i> 0.0.0.1+squeeze~main~10~build1 (using  
</I>&gt;<i> .../x2gotrinitybindings_0.0.0.1+squeeze~main~10~build1_all.deb) ...
</I>&gt;<i> postinst called with unknown argument `upgrade'
</I>&gt;<i> dpkg: warning: subprocess old pre-removal script returned error exit status 1
</I>&gt;<i> dpkg - trying script from the new package instead ...
</I>&gt;<i> postinst called with unknown argument `failed-upgrade'
</I>&gt;<i> dpkg: error processing  
</I>&gt;<i> /var/cache/apt/archives/x2gotrinitybindings_0.0.0.1+squeeze~main~10~build1_all.deb  
</I>&gt;<i> (--unpack):
</I>&gt;<i>  subprocess new pre-removal script returned error exit status 1
</I>&gt;<i> configured to not write apport reports
</I>&gt;<i>                                       Errors were encountered while  
</I>&gt;<i> processing:
</I>&gt;<i>   
</I>&gt;<i> /var/cache/apt/archives/x2gotrinitybindings_0.0.0.1+squeeze~main~10~build1_all.deb
</I>&gt;<i> E: Sub-process /usr/bin/dpkg returned an error code (1)
</I>&gt;<i>
</I>&gt;<i> And I believe postinst contains similar code.
</I>&gt;<i>
</I>&gt;<i> Please fix this. And I think we need some kind of check that in  
</I>&gt;<i> future, such code doesn't end up in the stable repository (maybe a  
</I>&gt;<i> test box that does apt-get install --reinstall &lt;packagename&gt; and  
</I>&gt;<i> checks for errors/warnings in the output before a package goes into  
</I>&gt;<i> stable?).
</I>
x2gotrinitybindings does not have a release and it is indeed undeveloped.

Put an ,,exit 0'' at the top of that postrm script. That should help  
you get rid of the script.

Do you need the trinity bindings? Alex is actually preparing some  
universal tool for desktop integration, but this is probably a raw  
egg...

Mike


-- 

DAS-NETZWERKTEAM
mike gabriel, dorfstr. 27, 24245 barmissen
fon: +49 (4302) 281418, fax: +49 (4302) 281419

GnuPG Key ID 0xB588399B
mail: <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-dev">mike.gabriel at das-netzwerkteam.de</A>, <A HREF="http://das-netzwerkteam.de">http://das-netzwerkteam.de</A>

freeBusy:
<A HREF="https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb">https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 490 bytes
Desc: Digitale PGP-Unterschrift
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-dev/attachments/20120206/b8a2d1c1/attachment.pgp">https://lists.berlios.de/pipermail/x2go-dev/attachments/20120206/b8a2d1c1/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003348.html">[X2Go-Dev] @Mike,	@Alex: Bug in x2gotrinitybindings Debian package (Stable)
</A></li>
	<LI>Next message: <A HREF="003350.html">[X2Go-Dev] @Mike, @Alex: Bug in x2gotrinitybindings Debian package (Stable)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3349">[ date ]</a>
              <a href="thread.html#3349">[ thread ]</a>
              <a href="subject.html#3349">[ subject ]</a>
              <a href="author.html#3349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
