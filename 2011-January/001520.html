<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-dev] x2go security Issues
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-dev/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-dev%5D%20x2go%20security%20Issues&In-Reply-To=%3C1295540788.9500.149.camel%40denise.theartistscloset.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001519.html">
   <LINK REL="Next"  HREF="001523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-dev] x2go security Issues</H1>
    <B>John A. Sullivan III</B> 
    <A HREF="mailto:x2go-dev%40lists.berlios.de?Subject=Re%3A%20%5BX2go-dev%5D%20x2go%20security%20Issues&In-Reply-To=%3C1295540788.9500.149.camel%40denise.theartistscloset.com%3E"
       TITLE="[X2go-dev] x2go security Issues">jsullivan at opensourcedevel.com
       </A><BR>
    <I>Thu Jan 20 17:26:28 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001519.html">[X2go-dev] x2go security Issues
</A></li>
        <LI>Next message: <A HREF="001523.html">[X2go-dev] x2go security Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1520">[ date ]</a>
              <a href="thread.html#1520">[ thread ]</a>
              <a href="subject.html#1520">[ subject ]</a>
              <a href="author.html#1520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2011-01-20 at 16:17 +0100, Oleksandr Shneyder wrote:
&gt;<i> Am 20.01.2011 15:39, schrieb Alexander Wuerstlein:
</I>&gt;<i> 
</I>&gt;<i> &gt; Forget that, /usr/bin/x2gopgwrapper is of course trivially exploitable
</I>&gt;<i> &gt; to get root in 2 ways:
</I>&gt;<i> &gt; - in the current git version, set 'startshadowagent' as the first
</I>&gt;<i> &gt;   parameter. Choose the 11th parameter in a way such that SHADOW_USER is
</I>&gt;<i> &gt;   set to 'root'. Set the second parameter ($CLIENT) to something like
</I>&gt;<i> &gt;   'foo ; rm -fr /'. Profit.
</I>&gt;<i> &gt; - in the git as well as the stable version, when the database is sqlite:
</I>&gt;<i> &gt;   the x2gopgwrapper_sqlite runs as root meaning that any sql injection
</I>&gt;<i> &gt;   into sqlite would run as root. One possible injection would set the
</I>&gt;<i> &gt;   sqlite output file to /etc/shadow (via .output /etc/shadow) and
</I>&gt;<i> &gt;   overwrite it with a customized version including a new root password
</I>&gt;<i> &gt;   chosen by the attacker. Profit.
</I>&gt;<i> 
</I>&gt;<i> I see, thank you Alexander. We'll fix it as quick as possible.
</I>&gt;<i> Regards,
</I>&lt;snip&gt;
It has probably been roughly a year but I had posted some changes we
made because we were very uncomfortable calling PostgreSQL as postgres.
In fact, we combined it with our vserver work and eventually used user
based schemas so we could use a single database for any number of X2Go
Servers - John


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001519.html">[X2go-dev] x2go security Issues
</A></li>
	<LI>Next message: <A HREF="001523.html">[X2go-dev] x2go security Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1520">[ date ]</a>
              <a href="thread.html#1520">[ thread ]</a>
              <a href="subject.html#1520">[ subject ]</a>
              <a href="author.html#1520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-dev">More information about the X2Go-Dev
mailing list</a><br>
</body></html>
